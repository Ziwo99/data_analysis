{
  "analyses": [
    {
      "id": "1",
      "title": "Demographic Analysis of Student Performance",
      "context": "Analyze student performance based on demographic factors such as gender and race/ethnicity.",
      "tables": [
        "students_performance"
      ],
      "sub_analyses": [
        {
          "id": "1.1",
          "title": "Gender-based Performance Comparison",
          "why": "To determine if there are performance differences between male and female students.",
          "answers": [
            "Average math scores for male and female students",
            "Average reading scores for male and female students",
            "Average writing scores for male and female students"
          ],
          "tables_columns": [
            "students_performance.gender",
            "students_performance.math score",
            "students_performance.reading score",
            "students_performance.writing score"
          ],
          "type": "Aggregation",
          "code_lines": [
            "# Group by gender and calculate the average scores",
            "result = students_performance.groupby('gender').agg({",
            "    'math score': 'mean',",
            "    'reading score': 'mean',",
            "    'writing score': 'mean'",
            "}).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['gender', 'avg_math_score', 'avg_reading_score', 'avg_writing_score']"
          ]
        },
        {
          "id": "1.2",
          "title": "Race/Ethnicity-based Performance Analysis",
          "why": "To examine how student performance varies across different race/ethnicity groups.",
          "answers": [
            "Average math scores for each race/ethnicity group",
            "Average reading scores for each race/ethnicity group",
            "Average writing scores for each race/ethnicity group"
          ],
          "tables_columns": [
            "students_performance.race/ethnicity",
            "students_performance.math score",
            "students_performance.reading score",
            "students_performance.writing score"
          ],
          "type": "Aggregation",
          "code_lines": [
            "# Group by race/ethnicity and calculate the average scores",
            "result = students_performance.groupby('race/ethnicity').agg({",
            "    'math score': 'mean',",
            "    'reading score': 'mean',",
            "    'writing score': 'mean'",
            "}).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['race_ethnicity', 'avg_math_score', 'avg_reading_score', 'avg_writing_score']"
          ]
        }
      ]
    },
    {
      "id": "2",
      "title": "Impact of Socioeconomic Factors on Performance",
      "context": "Investigate how socioeconomic factors like lunch benefits and parental education affect student performance.",
      "tables": [
        "students_performance"
      ],
      "sub_analyses": [
        {
          "id": "2.1",
          "title": "Lunch Benefits and Performance",
          "why": "To assess the correlation between receiving lunch benefits and academic performance.",
          "answers": [
            "Average math scores for students with and without lunch benefits",
            "Average reading scores for students with and without lunch benefits",
            "Average writing scores for students with and without lunch benefits"
          ],
          "tables_columns": [
            "students_performance.lunch",
            "students_performance.math score",
            "students_performance.reading score",
            "students_performance.writing score"
          ],
          "type": "Aggregation",
          "code_lines": [
            "# Group by lunch and calculate the average scores",
            "result = students_performance.groupby('lunch').agg({",
            "    'math score': 'mean',",
            "    'reading score': 'mean',",
            "    'writing score': 'mean'",
            "}).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['lunch', 'avg_math_score', 'avg_reading_score', 'avg_writing_score']"
          ]
        },
        {
          "id": "2.2",
          "title": "Parental Education Level and Student Performance",
          "why": "To analyze the influence of parental education on student scores across subjects.",
          "answers": [
            "Average math scores based on parental education level",
            "Average reading scores based on parental education level",
            "Average writing scores based on parental education level"
          ],
          "tables_columns": [
            "students_performance.parental level of education",
            "students_performance.math score",
            "students_performance.reading score",
            "students_performance.writing score"
          ],
          "type": "Aggregation",
          "code_lines": [
            "# Group by parental level of education and calculate the average scores",
            "result = students_performance.groupby('parental level of education').agg({",
            "    'math score': 'mean',",
            "    'reading score': 'mean',",
            "    'writing score': 'mean'",
            "}).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['parental_education', 'avg_math_score', 'avg_reading_score', 'avg_writing_score']"
          ]
        }
      ]
    },
    {
      "id": "3",
      "title": "Effect of Test Preparation on Performance",
      "context": "Examine the impact of completing a test preparation course on student scores.",
      "tables": [
        "students_performance"
      ],
      "sub_analyses": [
        {
          "id": "3.1",
          "title": "Test Preparation Course Completion and Scores",
          "why": "To evaluate if students who completed a preparation course scored higher on tests.",
          "answers": [
            "Average math scores for students who completed and did not complete the preparation course",
            "Average reading scores for students who completed and did not complete the preparation course",
            "Average writing scores for students who completed and did not complete the preparation course"
          ],
          "tables_columns": [
            "students_performance.test preparation course",
            "students_performance.math score",
            "students_performance.reading score",
            "students_performance.writing score"
          ],
          "type": "Aggregation",
          "code_lines": [
            "# Group by test preparation course completion and calculate the average scores",
            "result = students_performance.groupby('test preparation course').agg({",
            "    'math score': 'mean',",
            "    'reading score': 'mean',",
            "    'writing score': 'mean'",
            "}).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['test_prep_course', 'avg_math_score', 'avg_reading_score', 'avg_writing_score']"
          ]
        }
      ]
    },
    {
      "id": "4",
      "title": "Overall Performance Metrics",
      "context": "Provide general statistics on student performance across all subjects.",
      "tables": [
        "students_performance"
      ],
      "sub_analyses": [
        {
          "id": "4.1",
          "title": "Overall Math Performance Statistics",
          "why": "To get a summary of math scores including min, max, mean, and standard deviation.",
          "answers": [
            "Min, max, mean, and standard deviation of math scores"
          ],
          "tables_columns": [
            "students_performance.math score"
          ],
          "type": "DescriptiveStatistics",
          "code_lines": [
            "# Calculate min, max, mean, and standard deviation for math scores",
            "result = students_performance['math score'].agg(['min', 'max', 'mean', 'std']).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['metric', 'value']"
          ]
        },
        {
          "id": "4.2",
          "title": "Overall Reading Performance Statistics",
          "why": "To get a summary of reading scores including min, max, mean, and standard deviation.",
          "answers": [
            "Min, max, mean, and standard deviation of reading scores"
          ],
          "tables_columns": [
            "students_performance.reading score"
          ],
          "type": "DescriptiveStatistics",
          "code_lines": [
            "# Calculate min, max, mean, and standard deviation for reading scores",
            "result = students_performance['reading score'].agg(['min', 'max', 'mean', 'std']).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['metric', 'value']"
          ]
        },
        {
          "id": "4.3",
          "title": "Overall Writing Performance Statistics",
          "why": "To get a summary of writing scores including min, max, mean, and standard deviation.",
          "answers": [
            "Min, max, mean, and standard deviation of writing scores"
          ],
          "tables_columns": [
            "students_performance.writing score"
          ],
          "type": "DescriptiveStatistics",
          "code_lines": [
            "# Calculate min, max, mean, and standard deviation for writing scores",
            "result = students_performance['writing score'].agg(['min', 'max', 'mean', 'std']).reset_index()",
            "# Rename columns for clarity",
            "result.columns = ['metric', 'value']"
          ]
        }
      ]
    }
  ]
}